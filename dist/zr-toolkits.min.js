/**
 * js-toolkits v1.0.0
 * (c) 2021-2021 Come2BtheOne https://github.com/Come2BtheOne/zr-toolkits
 * Licensed under MIT
 * Released on: nov 30, 2021
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).tks=e()}(this,function(){"use strict";var e=(t.prototype.isSupport=function(){return this.isCookie()?document.cookie&&navigator.cookieEnabled:void 0!==window[this.type]},t.prototype.get=function(t,e){try{var n=t.split(","),r=this.master(n,"get");return e?(e.apply(this,r),this):1<n.length?r:r[0]||null}catch(t){return console.error(t),null}},t.prototype.set=function(t,e,n){try{var r={};"object"!=typeof t?r[t]=e:(n=e,r=t),this.master(r,"set",n),this.success()}catch(t){console.error(t),this.fail()}return this},t.prototype.remove=function(t){try{var e=t.split(",");this.master(e,"remove")}catch(t){console.error(t)}return this},t.prototype.clear=function(){try{var t;this.isCookie()?(t=document.cookie.split(";").map(function(t){return t.substr(0,t.indexOf("="))}),this.master(t,"remove")):window[this.type].clear()}catch(t){console.error(t)}return this},t.prototype.setType=function(t){return this.type=["sessionStorage","localStorage","cookie"][t=t||0]||t,this},t.prototype.master=function(t,e,n){var r=[],o=this.isCookie(),i=this;if("get"==e){for(var c in t)!function(t){{var e;t=o?(e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),e=document.cookie.match(e),e?unescape(e[2]):null):window[i.type].getItem(t),r.push(i.isJson(t)||t)}}(t[c]);return r}if("set"==e)for(var c in t)!function(t,e,n){e="object"==typeof e?JSON.stringify(e):e;{var r;o?(n=n||72e5,(r=new Date).setTime(r.getTime()+n),document.cookie=t+"="+escape(e)+";expires="+r.toUTCString()):window[i.type].setItem(t,e)}}(c,t[c],n);else if("remove"==e)for(var c in t)!function(t){{var e,n;o?(e=new Date,n=i.get(t),e.setTime(e.getTime()-1),null!=n&&(document.cookie=t+"="+n+";expires="+e.toUTCString())):window[i.type].removeItem(t)}}(t[c])},t.prototype.isJson=function(t){var e;try{e=JSON.parse(t)}catch(t){return!1}return e},t.prototype.isCookie=function(){return"cookie"===this.type},t);function t(t,e){this.success="object"==typeof e?e.success:function(){},this.fail="object"==typeof e?e.fail:function(){},this.setType(t)}function f(t){return"function"==typeof t&&"number"!=typeof t.nodeType}var n=Object.prototype.hasOwnProperty,p="undefined"!=typeof Symbol?Symbol.prototype:null,l=Object.keys,y=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"==o||"object"==o||"object"==typeof e)&&i(t,e,n,r)},i=function(t,e,n,r){var o=toString.call(t);if(o!==toString.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return p.valueOf.call(t)===p.valueOf.call(e)}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,o=e.constructor;if(c!==o&&!(f(c)&&c instanceof c&&f(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),i){if((u=t.length)!==e.length)return!1;for(;u--;)if(!y(t[u],e[u],n,r))return!1}else{var a,s=l(t),u=s.length;if(l(e).length!==u)return!1;for(;u--;)if(a=s[u],!h.has(e,a)||!y(t[a],e[a],n,r))return!1}return n.pop(),r.pop(),!0},h={trim:function(t,e){return e?t.replace(/\s+/g,""):t.replace(/^\s+|\s+$/g,"")},each:function(t,e){var n,r,o,i,c=0;if(i=!!(r=t)&&"length"in r&&r.length,f(r)||null!=(o=r)&&o===o.window||!("[object Array]"===toString.call(r)||0===i||"number"==typeof i&&0<i&&i-1 in r)){for(c in t)if(!1===e.call(t[c],t[c],c))break}else for(n=t.length;c<n&&!1!==e.call(t[c],t[c],c);c++);return t},get:function(){var t=arguments,e=t.length,n=1==e||0==e?location.href:t[0],n=(n=n.substring(n.indexOf("?")+1)).split("&"),r={};return this.each(n,function(t,e){var n;-1!=t.indexOf("=")&&(n=t.split("="),t=decodeURIComponent(n[0]),n=decodeURIComponent(n[1]),r[t]=n)}),1==e||2==e&&!0!==t[1]?r[1==e?t[0]:t[1]]||"":r},param:function(t){var n=[];return this.each(t,function(t,e){t=encodeURIComponent(null==t?"":t),e=encodeURIComponent(e),n.push("".concat(e,"=").concat(t))}),n.join("&")},test:function(t,e){switch(t){case"phone":return/^1[3456789]\d{9}$/.test(e);case"email":return/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(e);case"json":if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch(t){return!1}default:return!1}},storage:function(t){return new e(t)},min:function(t){return Math.min.apply(null,t)},max:function(t){return Math.max.apply(null,t)},sort:function(t,n){return t.sort(function(t,e){return t<e?n?1:-1:e<t?n?-1:1:0})},has:function(t,e){return n.call(t,e)},eq:function(t,e){return y(t,e)},ajaxSetup:{before:function(t,e){},after:function(t,e,n){},error:function(t,e,n){}},ajax:function(n){var r,t,e,o={type:"get",url:"",async:!0,data:null,headers:{},timeout:0,dataType:"json",success:function(){},error:function(){}},i=this;if(i.each(o,function(t,e){o[e]=n[e]||t}),window.XMLHttpRequest)r=new XMLHttpRequest;else{if(!window.ActiveXObject)return u("not support ajax"),!1;r=new ActiveXObject("Microsoft.XMLHTTP")}if(i.ajaxSetup.before&&!1===i.ajaxSetup.before(o,r))return!1;function c(){o.headers["X-Requested-With"]="XMLHttpRequest","POST"==o.type&&(o.headers["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8"),i.each(o.headers,function(t,e){r.setRequestHeader(e,t)})}function u(t){if(i.ajaxSetup.error&&!1===i.ajaxSetup.error(t,o,r))return;o.error(t,o,r)}o.type=o.type.toUpperCase(),r.timeout=o.timeout,r.responseType=o.dataType,o.data&&o.data.toString&&"[object Object]"==o.data.toString()&&(t=i.param(o.data)),"GET"==o.type?(e="".concat(o.url).concat(t?(-1==o.url.indexOf("?")?"?":"&")+t:""),r.open(o.type,e,o.async),c(),r.send(null)):"POST"==o.type&&(r.open(o.type,o.url,o.async),c(),r.send(t)),r.onreadystatechange=function(){4==r.readyState&&(200==r.status?function(){if(i.ajaxSetup.after)if(!1===i.ajaxSetup.after(r.response,o,r))return;o.success(r.response,o,r)}():u(r.status))},r.ontimeout=function(){u("timeout")}},version:"1.0.0"};return h});
