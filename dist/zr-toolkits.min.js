/**
 * zr-toolkits v2.0.0
 * (c) 2021-2021 Come2BtheOne https://github.com/Come2BtheOne/zr-toolkits
 * Licensed under MIT
 * Released on: nov 30, 2021
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).tks=t()}(this,function(){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i,e,a,t,n="zr-toolkits",c="2.0.0";function u(e){return o(t,n=e),t.isEmptyString=function(e){return null==e||""===e},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isEmptyObject=function(e){if(this.isObject(e))return 0===Object.keys(e).length;throw"[".concat(this.toolkitsName,".isEmptyObject()]\n入参非对象类型")},t.deWeightThree=function(e,n){var r={};return e.reduce(function(e,t){return r[t[n]]||(r[t[n]]=e.push(t)),e},[])},t.searchValueInTree=function(e,t,n,r){void 0===r&&(r="children");for(var o=0,i=e||[];o<i.length;o++){var a=i[o];if(a[t]===n)return a;a=this.searchValueInTree(a[r]||[],t,n,r);if(a)return a}},t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}function s(e){return o(t,n=e),t.genUUID=function(){var e=URL.createObjectURL(new Blob([])),t=e.substring(e.lastIndexOf("/")+1);return URL.revokeObjectURL(e),t},t.genRandomID=function(){return(new Date).getTime()+"_"+(1e4*Math.random()).toFixed(0)},t.shuffleRandom=function(e){for(var t,n=[];0<e.length;)t=Math.floor(Math.random()*e.length),n.push(e[t]),e.splice(t,1);return n},t.creatRandom=function(e,t,n){if(void 0===n&&(n=0),0===arguments.length)return Math.random();1===arguments.length&&(t=e,e=0);e+=Math.random()*(t-e);return+(void 0===n?Math.round(e):e.toFixed(n))},t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}(e=e=e||{}).phone="phone",e.tel="tel",e.card="card",e.pwd="pwd",e.postal="postal",e.QQ="QQ",e.email="email",e.money="money",e.URL="URL",e.IP="IP",e.number="number",e.english="english",e.chinese="chinese",e.lower="lower",e.upper="upper",e.HTML="HTML",(e=i=i||{})[e.allSpace=1]="allSpace",e[e.prevNextSpace=2]="prevNextSpace",e[e.prevSpace=3]="prevSpace",e[e.nextSpace=4]="nextSpace",(t=t=t||{})[t.firstUpper=1]="firstUpper",t[t.firstLower=2]="firstLower",t[t.reverse=3]="reverse",t[t.allUpper=4]="allUpper",t[t.allLower=5]="allLower",(t=a=a||{}).tel="tel",t.sms="sms",t.mailto="mailto";var l={phone:/^1[3|4|5|6|7|8|9][0-9]{9}$/,tel:/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/,card:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,pwd:/^[a-zA-Z]\w{5,17}$/,postal:/[1-9]\d{5}(?!\d)/,QQ:/^[1-9][0-9]{4,9}$/,email:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,money:/^\d*(?:\.\d{0,2})?$/,URL:/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/,IP:/((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/,number:/^[0-9]$/,english:/^[a-zA-Z]+$/,chinese:/^[\\u4E00-\\u9FA5]+$/,lower:/^[a-z]+$/,upper:/^[A-Z]+$/,HTML:/<("[^"]*"|'[^']*'|[^'">])*>/},d={allSpace:/\s+/g,prevNextSpace:/(^\s*)|(\s*$)/g,prevSpace:/(^\s*)/g,nextSpace:/(\s*$)/g},f={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};function p(e){return o(t,n=e),t.getUrlParamsValue=function(e,t){if(URL)return new URL(e).searchParams.get(t)},t.trim=function(e,t){if(void 0!==(t=void 0===t?2:t)&&i.hasOwnProperty(t))return e.replace(d[i[t]],"");throw"[".concat(this.toolkitsName,".trim()]\n入参[trimType]错误")},t.changeCase=function(e,t){switch(t=void 0===t?3:t){case 1:return e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase()});case 2:return e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toLowerCase()+e.substring(1).toUpperCase()});case 3:return e.split("").map(function(e){return/[a-z]/.test(e)?e.toUpperCase():e.toLowerCase()}).join("");case 4:return e.toUpperCase();case 5:return e.toLowerCase();default:throw"[".concat(this.toolkitsName,".changeCase()]\n入参[caseType]错误")}},t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}function h(e){return o(t,n=e),t.isEmail=function(e){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e)},t.isMobilePhone=function(e){return/^1[0-9]{10}$/.test(e)},t.isTelephone=function(e){return/^([0-9]{3,4}-)?[0-9]{7,8}$/.test(e)},t.regCheckString=function(e,t){if(void 0===t||!l.hasOwnProperty(t))throw"[".concat(this.toolkitsName,".regCheckString()]\n入参[key]错误");for(var n in l)if(n===t)return l[n].test(e)},t.strictCheckIDCard=function(e){if(!/(^\d{15}$)|(^\d{17}(\d|X|x)$)/.test(e))return console.warn("你输入的身份证长度或格式错误"),!1;if(!f[parseInt(e.substr(0,2))])return console.warn("你的身份证地区非法"),!1;var t=(e.substr(6,4)+"-"+Number(e.substr(10,2))+"-"+Number(e.substr(12,2))).replace(/-/g,"/"),n=new Date(t);if(t!=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate())return console.warn("身份证上的出生日期非法"),!1;for(var r=0,o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=0;i<e.length-1;i++)r+=e[i]*o[i];return e[e.length-1]=="10X98765432"[r%11]||(console.warn("你输入的身份证号非法"),!1)},t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}function m(e){return o(t,n=e),t.formatMs=function(e,t){return e.toLocaleString("zh",{hour12:t=void 0===t?!1:t})},t.calculateTimeDifference=function(e,t,n){void 0===n&&(n=!1);var r,o,i,a,e=e-(t=void 0===t?+new Date:t),t=!1;return e<=0?t=!(a=i=o=r=0):a=(i=(o=n?Math.floor(e/1e3/60/60):(r=Math.floor(e/1e3/60/60/24),Math.floor(e/1e3/60/60%24)),Math.floor(e/1e3/60%60)),Math.floor(e/1e3%60)),{day:(r=r<10?"0"+r:r)+"",hour:(o=o<10?"0"+o:o)+"",min:(i=i<10?"0"+i:i)+"",sec:(a=a<10?"0"+a:a)+"",over:t}},t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}function v(e){return o(t,n=e),t.formatMoney=function(e,t){return(+e).toLocaleString("zh",{minimumIntegerDigits:1,minimumFractionDigits:t=void 0===t?2:t,maximumFractionDigits:0})},t.makePercent=function(e,t){return(+e).toLocaleString("zh",{style:"percent",maximumFractionDigits:t=void 0===t?2:t})},t.plus=function(e,t){var n,r=0,o=0;try{r=e.toString().split(".")[1].length}catch(e){r=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return(e*(n=Math.pow(10,Math.max(r,o)))+t*n)/n},t.minus=function(e,t){var n,r=0,o=0;try{r=e.toString().split(".")[1].length}catch(e){r=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return(e*(n=Math.pow(10,Math.max(r,o)))+t*n)/n},t.times=function(e,t){var n=0,e=e.toString(),t=t.toString();try{n+=e.split(".")[1].length}catch(e){}try{n+=t.split(".")[1].length}catch(e){}return+e.replace(".","")*+t.replace(".","")/Math.pow(10,n)},t.divide=function(e,t){var n,r=0,o=0;try{r=e.toString().split(".")[1].length}catch(e){r=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return+((e*(n=Math.pow(10,Math.max(r,o)))-t*n)/n).toFixed(o<=r?r:o)},t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}function g(e){return o(t,n=e),t.phoneCall=function(e){console.log("@系统电话：",e),this.send({operation:a.tel,receiver:e})},t.sendMessage=function(e){console.log("@系统短信：",e),this.send({operation:a.sms,receiver:e})},t.sendEmail=function(e){console.log("@系统邮件：",e),this.send({operation:a.mailto,receiver:e})},t.send=function(e){var t=document.createElement("a");t.href="".concat(e.operation,":").concat(e.receiver),document.body.appendChild(t),t.click(),document.body.removeChild(t)},t.share=function(e){void 0===e&&(e={});var t=window.navigator;if(!(t&&"canShare"in t))return console.warn("平台不支持系统分享功能"),Promise.reject("平台不支持系统分享功能");var n=!0;return(n=e.files&&t.canShare?t.canShare({files:e.files}):n)?t.share(e):void 0},t.notify=function(t,n,r){if(void 0===n&&(n={}),!("Notification"in window))return console.error("This browser does not support desktop notification");"granted"===Notification.permission?this.doNotify(t,n,r):"denied"!==Notification.permission&&Notification.requestPermission().then(function(e){"granted"===e&&this.doNotify(t,n,r)})},t.doNotify=function(e,t,n){void 0===t&&(t={});var r=new Notification(e,t);if(n)for(var o in n)r[o]=n[o]},t.captureVideo=function(e){var t;try{var n,r=window.getComputedStyle(e),o=+r.getPropertyValue("width").replace("px",""),i=+r.getPropertyValue("height").replace("px","");return(n=document.createElement("canvas")).style.cssText="position:fixed;left:-9999px",n.height=i,n.width=o,document.body.appendChild(n),n.getContext("2d").drawImage(e,0,0,o,i),t=n.toDataURL(),document.body.removeChild(n),n=null,t}finally{if(n&&document.body.removeChild(n),t)return t}},t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}function y(e){return o(t,n=e),t.syncLoadScript=function(r,e){if(!e)return new Promise(function(e,t){var n=document.createElement("script");n.src=r,document.body.appendChild(n),n.onload=function(){e(null)}});var t=document.createElement("script");t.src=r,document.body.appendChild(t),t.onload=function(){e()}},t.isPC=function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,r=0;r<t.length;r++)if(0<e.indexOf(t[r])){n=!1;break}return n},t.isIOS=function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},t.isAndroid=function(){var e=navigator.userAgent;return-1<e.indexOf("Android")||-1<e.indexOf("Adr")},t.downloadByUrl=function(e,t){void 0===t&&(t="download");var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.click(),document.body.removeChild(n)},t.downloadByBob=function(e,t){void 0===t&&(t="download");var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),e=document.createElement("a"),n=window.URL.createObjectURL(n);e.href=n,e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(n)},t.copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);e=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),e&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(e))},t.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},t.getScrollPosition=function(e){return{x:void 0!==e.pageXOffset?e.pageXOffset:e.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:e.scrollTop}},t.watchVisibility=function(e,t){document.addEventListener("visibilitychange",function(){document.hidden?e&&e():t&&t()}),window.onbeforeunload=function(){document.removeEventListener("visibilitychange",function(){document.hidden?e&&e():t&&t()})}},t.disableWindowEvent=function(){["contextmenu","selectstart","copy"].forEach(function(e){document.addEventListener(e,function(e){return e.returnValue=!1})})},t;function t(){return null!==n&&n.apply(this,arguments)||this}var n}var w,b=(S.emit=function(e,t){(S.Events[e]||[]).forEach(function(e){return e(t)})},S.on=function(e,t){var n=S.Events[e]||[];t&&n.push(t),S.Events[e]=n},S.once=function(t,n){function r(e){n&&n(e),S.off(t,r)}S.on(t,r)},S.off=function(e,t){var n=(S.Events[e]||[]).filter(function(e){return e!==t});S.Events[e]=n},S.remove=function(e,t){S.Events[e]=[],t&&t()},S.Events={},S);function S(){}function x(){}return(w=x).useObserver=function(){return w.observer||(w.observer=b),{on:w.observer.on,off:w.observer.off,once:w.observer.once,emit:w.observer.emit,remove:w.observer.remove}},x.toolkitsName=n,x.version=c,w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,n,a):o(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a}([y,g,v,m,h,p,s,u],x)});
