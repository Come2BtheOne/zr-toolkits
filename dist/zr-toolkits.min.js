/**
 * zr-toolkits v2.1.0
 * (c) 2021-2021 Come2BtheOne https://github.com/Come2BtheOne/zr-toolkits
 * Licensed under MIT
 * Released on: nov 30, 2021
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).tks=t()}(this,function(){"use strict";var o="zr-toolkits",e="2.1.0";function t(e,t){var n=new e,e=Object.getPrototypeOf(n);return Reflect.ownKeys(e).forEach(function(e){t[e]=n[e]}),t}var n=(r.prototype.isEmptyString=function(e){return null==e||""===e},r.prototype.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},r.prototype.isEmptyObject=function(e){if((new r).isObject(e))return 0===Object.keys(e).length;throw"[".concat(o,".isEmptyObject()]\n入参非对象类型")},r.prototype.deWeightThree=function(e,n){var o={};return e.reduce(function(e,t){return o[t[n]]||(o[t[n]]=e.push(t)),e},[])},r.prototype.searchValueInTree=function(e,t,n,o){void 0===o&&(o="children");for(var r=0,i=e||[];r<i.length;r++){var c=i[r];if(c[t]===n)return c;c=this.searchValueInTree(c[o]||[],t,n,o);if(c)return c}},r);function r(){}function i(e){return t(n,e)}var c,a,u,p,s=(d.prototype.genUUID=function(){var e=URL.createObjectURL(new Blob([])),t=e.substring(e.lastIndexOf("/")+1);return URL.revokeObjectURL(e),t},d.prototype.genRandomID=function(){return(new Date).getTime()+"_"+(1e4*Math.random()).toFixed(0)},d.prototype.shuffleRandom=function(e){for(var t,n=[];0<e.length;)t=Math.floor(Math.random()*e.length),n.push(e[t]),e.splice(t,1);return n},d.prototype.creatRandom=function(e,t,n){if(void 0===n&&(n=0),0===arguments.length)return Math.random();1===arguments.length&&(t=e,e=0);e+=Math.random()*(t-e);return+(void 0===n?Math.round(e):e.toFixed(n))},d);function d(){}function l(e){return t(s,e)}(a=a=a||{}).phone="phone",a.tel="tel",a.card="card",a.pwd="pwd",a.postal="postal",a.QQ="QQ",a.email="email",a.money="money",a.URL="URL",a.IP="IP",a.number="number",a.english="english",a.chinese="chinese",a.lower="lower",a.upper="upper",a.HTML="HTML",(a=c=c||{})[a.allSpace=1]="allSpace",a[a.prevNextSpace=2]="prevNextSpace",a[a.prevSpace=3]="prevSpace",a[a.nextSpace=4]="nextSpace",(p=p=p||{})[p.firstUpper=1]="firstUpper",p[p.firstLower=2]="firstLower",p[p.reverse=3]="reverse",p[p.allUpper=4]="allUpper",p[p.allLower=5]="allLower",(p=u=u||{}).tel="tel",p.sms="sms",p.mailto="mailto";var f={phone:/^1[3|4|5|6|7|8|9][0-9]{9}$/,tel:/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/,card:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,pwd:/^[a-zA-Z]\w{5,17}$/,postal:/[1-9]\d{5}(?!\d)/,QQ:/^[1-9][0-9]{4,9}$/,email:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,money:/^\d*(?:\.\d{0,2})?$/,URL:/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/,IP:/((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/,number:/^[0-9]$/,english:/^[a-zA-Z]+$/,chinese:/^[\\u4E00-\\u9FA5]+$/,lower:/^[a-z]+$/,upper:/^[A-Z]+$/,HTML:/<("[^"]*"|'[^']*'|[^'">])*>/},h={allSpace:/\s+/g,prevNextSpace:/(^\s*)|(\s*$)/g,prevSpace:/(^\s*)/g,nextSpace:/(\s*$)/g},m={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},v=(y.prototype.getUrlParamsValue=function(e,t){if(URL)return new URL(e).searchParams.get(t)},y.prototype.trim=function(e,t){if(void 0!==(t=void 0===t?2:t)&&c.hasOwnProperty(t))return e.replace(h[c[t]],"");throw"[".concat(o,".trim()]\n入参[trimType]错误")},y.prototype.changeCase=function(e,t){switch(t=void 0===t?3:t){case 1:return e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase()});case 2:return e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toLowerCase()+e.substring(1).toUpperCase()});case 3:return e.split("").map(function(e){return/[a-z]/.test(e)?e.toUpperCase():e.toLowerCase()}).join("");case 4:return e.toUpperCase();case 5:return e.toLowerCase();default:throw"[".concat(o,".changeCase()]\n入参[caseType]错误")}},y);function y(){}function g(e){return t(v,e)}var w=(b.prototype.isEmail=function(e){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e)},b.prototype.isMobilePhone=function(e){return/^1[0-9]{10}$/.test(e)},b.prototype.isTelephone=function(e){return/^([0-9]{3,4}-)?[0-9]{7,8}$/.test(e)},b.prototype.regCheckString=function(e,t){if(void 0===t||!f.hasOwnProperty(t))throw"[".concat(o,".regCheckString()]\n入参[key]错误");for(var n in f)if(n===t)return f[n].test(e)},b.prototype.strictCheckIDCard=function(e){if(!/(^\d{15}$)|(^\d{17}(\d|X|x)$)/.test(e))return console.warn("你输入的身份证长度或格式错误"),!1;if(!m[parseInt(e.substr(0,2))])return console.warn("你的身份证地区非法"),!1;var t=(e.substr(6,4)+"-"+Number(e.substr(10,2))+"-"+Number(e.substr(12,2))).replace(/-/g,"/"),n=new Date(t);if(t!=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate())return console.warn("身份证上的出生日期非法"),!1;for(var o=0,r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=0;i<e.length-1;i++)o+=e[i]*r[i];return e[e.length-1]=="10X98765432"[o%11]||(console.warn("你输入的身份证号非法"),!1)},b);function b(){}function S(e){return t(w,e)}var x=(C.prototype.formatMs=function(e,t){return e.toLocaleString("zh",{hour12:t=void 0===t?!1:t})},C.prototype.calculateTimeDifference=function(e,t,n){void 0===n&&(n=!1);var o,r,i,c,e=e-(t=void 0===t?+new Date:t),t=!1;return e<=0?t=!(c=i=r=o=0):c=(i=(r=n?Math.floor(e/1e3/60/60):(o=Math.floor(e/1e3/60/60/24),Math.floor(e/1e3/60/60%24)),Math.floor(e/1e3/60%60)),Math.floor(e/1e3%60)),{day:(o=o<10?"0"+o:o)+"",hour:(r=r<10?"0"+r:r)+"",min:(i=i<10?"0"+i:i)+"",sec:(c=c<10?"0"+c:c)+"",over:t}},C);function C(){}function L(e){return t(x,e)}var O=(E.prototype.formatMoney=function(e,t){return(+e).toLocaleString("zh",{minimumIntegerDigits:1,minimumFractionDigits:t=void 0===t?2:t,maximumFractionDigits:0})},E.prototype.makePercent=function(e,t){return(+e).toLocaleString("zh",{style:"percent",maximumFractionDigits:t=void 0===t?2:t})},E.prototype.plus=function(e,t){var n,o=0,r=0;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return(e*(n=Math.pow(10,Math.max(o,r)))+t*n)/n},E.prototype.minus=function(e,t){var n,o=0,r=0;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return(e*(n=Math.pow(10,Math.max(o,r)))+t*n)/n},E.prototype.times=function(e,t){var n=0,e=e.toString(),t=t.toString();try{n+=e.split(".")[1].length}catch(e){}try{n+=t.split(".")[1].length}catch(e){}return+e.replace(".","")*+t.replace(".","")/Math.pow(10,n)},E.prototype.divide=function(e,t){var n,o=0,r=0;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return+((e*(n=Math.pow(10,Math.max(o,r)))-t*n)/n).toFixed(r<=o?o:r)},E);function E(){}function U(e){return t(O,e)}var M=(R.prototype.phoneCall=function(e){console.log("@系统电话：",e),this.send({operation:u.tel,receiver:e})},R.prototype.sendMessage=function(e){console.log("@系统短信：",e),this.send({operation:u.sms,receiver:e})},R.prototype.sendEmail=function(e){console.log("@系统邮件：",e),this.send({operation:u.mailto,receiver:e})},R.prototype.send=function(e){var t=document.createElement("a");t.href="".concat(e.operation,":").concat(e.receiver),document.body.appendChild(t),t.click(),document.body.removeChild(t)},R.prototype.share=function(e){void 0===e&&(e={});var t=window.navigator;if(!(t&&"canShare"in t))return console.warn("平台不支持系统分享功能"),Promise.reject("平台不支持系统分享功能");var n=!0;return(n=e.files&&t.canShare?t.canShare({files:e.files}):n)?t.share(e):void 0},R.prototype.notify=function(t,n,o){if(void 0===n&&(n={}),!("Notification"in window))return console.error("This browser does not support desktop notification");"granted"===Notification.permission?this.doNotify(t,n,o):"denied"!==Notification.permission&&Notification.requestPermission().then(function(e){"granted"===e&&this.doNotify(t,n,o)})},R.prototype.doNotify=function(e,t,n){void 0===t&&(t={});var o=new Notification(e,t);if(n)for(var r in n)o[r]=n[r]},R.prototype.captureVideo=function(e){var t;try{var n,o=window.getComputedStyle(e),r=+o.getPropertyValue("width").replace("px",""),i=+o.getPropertyValue("height").replace("px","");return(n=document.createElement("canvas")).style.cssText="position:fixed;left:-9999px",n.height=i,n.width=r,document.body.appendChild(n),n.getContext("2d").drawImage(e,0,0,r,i),t=n.toDataURL(),document.body.removeChild(n),n=null,t}finally{if(n&&document.body.removeChild(n),t)return t}},R);function R(){}function P(e){return t(M,e)}var $=(j.prototype.syncLoadScript=function(o,e){if(!e)return new Promise(function(e,t){var n=document.createElement("script");n.src=o,document.body.appendChild(n),n.onload=function(){e(null)}});var t=document.createElement("script");t.src=o,document.body.appendChild(t),t.onload=function(){e()}},j.prototype.isPC=function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,o=0;o<t.length;o++)if(0<e.indexOf(t[o])){n=!1;break}return n},j.prototype.isIOS=function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},j.prototype.isAndroid=function(){var e=navigator.userAgent;return-1<e.indexOf("Android")||-1<e.indexOf("Adr")},j.prototype.downloadByUrl=function(e,t){void 0===t&&(t="download");var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.click(),document.body.removeChild(n)},j.prototype.downloadByBob=function(e,t){void 0===t&&(t="download");var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),e=document.createElement("a"),n=window.URL.createObjectURL(n);e.href=n,e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(n)},j.prototype.copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);e=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),e&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(e))},j.prototype.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},j.prototype.getScrollPosition=function(e){return{x:void 0!==e.pageXOffset?e.pageXOffset:e.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:e.scrollTop}},j.prototype.watchVisibility=function(e,t){document.addEventListener("visibilitychange",function(){document.hidden?e&&e():t&&t()}),window.onbeforeunload=function(){document.removeEventListener("visibilitychange",function(){document.hidden?e&&e():t&&t()})}},j.prototype.disableWindowEvent=function(){["contextmenu","selectstart","copy"].forEach(function(e){document.addEventListener(e,function(e){return e.returnValue=!1})})},j);function j(){}function A(e){return t($,e)}var k,N=(T.emit=function(e,t){(T.Events[e]||[]).forEach(function(e){return e(t)})},T.on=function(e,t){var n=T.Events[e]||[];t&&n.push(t),T.Events[e]=n},T.once=function(t,n){function o(e){n&&n(e),T.off(t,o)}T.on(t,o)},T.off=function(e,t){var n=(T.Events[e]||[]).filter(function(e){return e!==t});T.Events[e]=n},T.remove=function(e,t){T.Events[e]=[],t&&t()},T.Events={},T);function T(){}function D(){}return(k=D).useObserver=function(){return k.observer||(k.observer=N),{on:k.observer.on,off:k.observer.off,once:k.observer.once,emit:k.observer.emit,remove:k.observer.remove}},D.utilsName=o,D.version=e,k=function(e,t,n,o){var r,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;0<=a;a--)(r=e[a])&&(c=(i<3?r(c):3<i?r(t,n,c):r(t,n))||c);return 3<i&&c&&Object.defineProperty(t,n,c),c}([A,P,U,L,S,g,l,i],D)});
