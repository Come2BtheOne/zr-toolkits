/**
 * zr-toolkits v2.1.5
 * (c) 2021-2022 Come2BtheOne https://github.com/Come2BtheOne/zr-toolkits
 * Licensed under MIT
 * Released on: nov 30, 2021
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).tks=t()}(this,function(){"use strict";var u="zr-toolkits",e="2.1.5";function t(e,t){var n=new e,e=Object.getPrototypeOf(n);return Reflect.ownKeys(e).forEach(function(e){t[e]=n[e]}),t}var n=(c.prototype.isEmptyString=function(e){return null==e||""===e},c.prototype.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},c.prototype.isEmptyObject=function(e){if((new c).isObject(e))return 0===Object.keys(e).length;throw"[".concat(u,".isEmptyObject()]\n入参非对象类型")},c.prototype.deWeightThree=function(e,n){var o={};return e.reduce(function(e,t){return o[t[n]]||(o[t[n]]=e.push(t)),e},[])},c.prototype.searchValueInTree=function(e,t,n,o){void 0===o&&(o="children");for(var r=0,i=e||[];r<i.length;r++){var a=i[r];if(a[t]===n)return a;a=(new c).searchValueInTree(a[o]||[],t,n,o);if(a)return a}},c);function c(){}function o(e){return t(n,e)}var r,i,a,p,s,l={phone:/^1[3|4|5|6|7|8|9][0-9]{9}$/,tel:/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/,card:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,pwd:/^[a-zA-Z]\w{5,17}$/,postal:/[1-9]\d{5}(?!\d)/,QQ:/^[1-9][0-9]{4,9}$/,email:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,money:/^\d*(?:\.\d{0,2})?$/,URL:/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/,IP:/((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/,number:/^[0-9]$/,english:/^[a-zA-Z]+$/,chinese:/^[\\u4E00-\\u9FA5]+$/,lower:/^[a-z]+$/,upper:/^[A-Z]+$/,HTML:/<("[^"]*"|'[^']*'|[^'">])*>/},d={allSpace:/\s+/g,prevNextSpace:/(^\s*)|(\s*$)/g,prevSpace:/(^\s*)/g,nextSpace:/(\s*$)/g},f={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},h={letterNumber:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",allLetter:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",allNumber:"0123456789",uppercase:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",lowercase:"abcdefghijklmnopqrstuvwxyz"};(i=r=r||{})[i.allSpace=1]="allSpace",i[i.prevNextSpace=2]="prevNextSpace",i[i.prevSpace=3]="prevSpace",i[i.nextSpace=4]="nextSpace",(s=s=s||{})[s.firstUpper=1]="firstUpper",s[s.firstLower=2]="firstLower",s[s.reverse=3]="reverse",s[s.allUpper=4]="allUpper",s[s.allLower=5]="allLower",(s=a=a||{}).tel="tel",s.sms="sms",s.mailto="mailto",(s=p=p||{})[s.letterNumber=1]="letterNumber",s[s.allLetter=2]="allLetter",s[s.allNumber=3]="allNumber",s[s.uppercase=4]="uppercase",s[s.lowercase=5]="lowercase";var m=(v.prototype.genUUID=function(){var e=URL.createObjectURL(new Blob([])),t=e.substring(e.lastIndexOf("/")+1);return URL.revokeObjectURL(e),t},v.prototype.genRandomID=function(){return(new Date).getTime()+"_"+(1e4*Math.random()).toFixed(0)},v.prototype.shuffleRandom=function(e){for(var t,n=[];0<e.length;)t=Math.floor(Math.random()*e.length),n.push(e[t]),e.splice(t,1);return n},v.prototype.creatRandom=function(e,t,n){if(void 0===n&&(n=0),0===arguments.length)return Math.random();1===arguments.length&&(t=e,e=0);e+=Math.random()*(t-e);return+(void 0===n?Math.round(e):e.toFixed(n))},v.prototype.randomRange=function(e,t,n){void 0===n&&(n=1);var o="",r=t?Math.round(Math.random()*(t-e))+e:e;if(void 0!==n&&p.hasOwnProperty(n)){for(var i=h[p[n]],a=0;a<r;a++){var c=Math.round(Math.random()*(i.length-1));o+=i.substring(c,c+1)}return o}throw"[".concat(u,".randomRange()]\n入参[randomType]错误")},v);function v(){}function y(e){return t(m,e)}var g=(w.prototype.getUrlParamsValue=function(e,t){if(t)return new URL(e).searchParams.get(t);for(var n={},o=e.split("?")[1].split("&"),r=0,i=o.length;r<i;r++){var a=o[r].split("=");n[a[0]]=a[1]}return n},w.prototype.trim=function(e,t){if(void 0!==(t=void 0===t?2:t)&&r.hasOwnProperty(t))return e.replace(d[r[t]],"");throw"[".concat(u,".trim()]\n入参[trimType]错误")},w.prototype.changeCase=function(e,t){switch(t=void 0===t?3:t){case 1:return e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase()});case 2:return e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toLowerCase()+e.substring(1).toUpperCase()});case 3:return e.split("").map(function(e){return/[a-z]/.test(e)?e.toUpperCase():e.toLowerCase()}).join("");case 4:return e.toUpperCase();case 5:return e.toLowerCase();default:throw"[".concat(u,".changeCase()]\n入参[caseType]错误")}},w);function w(){}function b(e){return t(g,e)}var S=(x.prototype.isEmail=function(e){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e)},x.prototype.isMobilePhone=function(e){return/^1[0-9]{10}$/.test(e)},x.prototype.isTelephone=function(e){return/^([0-9]{3,4}-)?[0-9]{7,8}$/.test(e)},x.prototype.regCheckString=function(e,t){if(void 0!==t&&l.hasOwnProperty(t))return l[t].test(e);throw"[".concat(u,".regCheckString()]\n入参[key]错误")},x.prototype.strictCheckIDCard=function(e){if(!/(^\d{15}$)|(^\d{17}(\d|X|x)$)/.test(e))return console.warn("你输入的身份证长度或格式错误"),!1;if(!f[parseInt(e.substr(0,2))])return console.warn("你的身份证地区非法"),!1;var t=(e.substr(6,4)+"-"+Number(e.substr(10,2))+"-"+Number(e.substr(12,2))).replace(/-/g,"/"),n=new Date(t);if(t!=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate())return console.warn("身份证上的出生日期非法"),!1;for(var o=0,r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=0;i<e.length-1;i++)o+=e[i]*r[i];return e[e.length-1]=="10X98765432"[o%11]||(console.warn("你输入的身份证号非法"),!1)},x);function x(){}function C(e){return t(S,e)}var O=(L.prototype.formatMs=function(e,t){return e.toLocaleString("zh",{hour12:t=void 0===t?!1:t})},L.prototype.calculateTimeDifference=function(e,t,n){void 0===n&&(n=!1);var o,r,i,a,e=e-(t=void 0===t?+new Date:t),t=!1;return e<=0?t=!(a=i=r=o=0):a=(i=(r=n?Math.floor(e/1e3/60/60):(o=Math.floor(e/1e3/60/60/24),Math.floor(e/1e3/60/60%24)),Math.floor(e/1e3/60%60)),Math.floor(e/1e3%60)),{day:(o=o<10?"0"+o:o)+"",hour:(r=r<10?"0"+r:r)+"",min:(i=i<10?"0"+i:i)+"",sec:(a=a<10?"0"+a:a)+"",over:t}},L);function L(){}function E(e){return t(O,e)}var M=(R.prototype.formatMoney=function(e,t){return(+e).toLocaleString("zh",{minimumIntegerDigits:1,minimumFractionDigits:t=void 0===t?2:t,maximumFractionDigits:0})},R.prototype.makePercent=function(e,t){return(+e).toLocaleString("zh",{style:"percent",maximumFractionDigits:t=void 0===t?2:t})},R.prototype.plus=function(e,t){var n,o=0,r=0;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return(e*(n=Math.pow(10,Math.max(o,r)))+t*n)/n},R.prototype.minus=function(e,t){var n,o=0,r=0;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return(e*(n=Math.pow(10,Math.max(o,r)))+t*n)/n},R.prototype.times=function(e,t){var n=0,e=e.toString(),t=t.toString();try{n+=e.split(".")[1].length}catch(e){}try{n+=t.split(".")[1].length}catch(e){}return+e.replace(".","")*+t.replace(".","")/Math.pow(10,n)},R.prototype.divide=function(e,t){var n,o=0,r=0;try{o=e.toString().split(".")[1].length}catch(e){o=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return+((e*(n=Math.pow(10,Math.max(o,r)))-t*n)/n).toFixed(r<=o?o:r)},R);function R(){}function U(e){return t(M,e)}var P=(k.prototype.phoneCall=function(e){console.log("@系统电话：",e),(new k).send({operation:a.tel,receiver:e})},k.prototype.sendMessage=function(e){console.log("@系统短信：",e),(new k).send({operation:a.sms,receiver:e})},k.prototype.sendEmail=function(e){console.log("@系统邮件：",e),(new k).send({operation:a.mailto,receiver:e})},k.prototype.send=function(e){var t=document.createElement("a");t.href="".concat(e.operation,":").concat(e.receiver),document.body.appendChild(t),t.click(),document.body.removeChild(t)},k.prototype.share=function(e){void 0===e&&(e={});var t=window.navigator;if(!(t&&"canShare"in t))return console.warn("平台不支持系统分享功能"),Promise.reject("平台不支持系统分享功能");var n=!0;return(n=e.files&&t.canShare?t.canShare({files:e.files}):n)?t.share(e):void 0},k.prototype.notify=function(t,n,o){if(void 0===n&&(n={}),!("Notification"in window))return console.error("This browser does not support desktop notification");"granted"===Notification.permission?(new k).doNotify(t,n,o):"denied"!==Notification.permission&&Notification.requestPermission().then(function(e){"granted"===e&&(new k).doNotify(t,n,o)})},k.prototype.doNotify=function(e,t,n){void 0===t&&(t={});var o=new Notification(e,t);if(n)for(var r in n)o[r]=n[r]},k.prototype.captureVideo=function(e){var t;try{var n,o=window.getComputedStyle(e),r=+o.getPropertyValue("width").replace("px",""),i=+o.getPropertyValue("height").replace("px","");return(n=document.createElement("canvas")).style.cssText="position:fixed;left:-9999px",n.height=i,n.width=r,document.body.appendChild(n),n.getContext("2d").drawImage(e,0,0,r,i),t=n.toDataURL(),document.body.removeChild(n),n=null,t}finally{if(n&&document.body.removeChild(n),t)return t}},k);function k(){}function N(e){return t(P,e)}var j=(A.prototype.syncLoadScript=function(o,e){if(!e)return new Promise(function(e,t){var n=document.createElement("script");n.src=o,document.body.appendChild(n),n.onload=function(){e(null)}});var t=document.createElement("script");t.src=o,document.body.appendChild(t),t.onload=function(){e()}},A.prototype.isPC=function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,o=0;o<t.length;o++)if(0<e.indexOf(t[o])){n=!1;break}return n},A.prototype.isIOS=function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},A.prototype.isAndroid=function(){var e=navigator.userAgent;return-1<e.indexOf("Android")||-1<e.indexOf("Adr")},A.prototype.downloadByUrl=function(e,t){void 0===t&&(t="download");var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),n.click(),document.body.removeChild(n)},A.prototype.downloadByBob=function(e,t){void 0===t&&(t="download");var n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),e=document.createElement("a"),n=window.URL.createObjectURL(n);e.href=n,e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(n)},A.prototype.copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);e=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),e&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(e))},A.prototype.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},A.prototype.getScrollPosition=function(e){return{x:void 0!==e.pageXOffset?e.pageXOffset:e.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:e.scrollTop}},A.prototype.watchVisibility=function(e,t){document.addEventListener("visibilitychange",function(){document.hidden?e&&e():t&&t()}),window.onbeforeunload=function(){document.removeEventListener("visibilitychange",function(){document.hidden?e&&e():t&&t()})}},A.prototype.disableWindowEvent=function(){["contextmenu","selectstart","copy"].forEach(function(e){document.addEventListener(e,function(e){return e.returnValue=!1})})},A);function A(){}function $(e){return t(j,e)}var D,T=(I.emit=function(e,t){(I.Events[e]||[]).forEach(function(e){return e.callback(t)})},I.on=function(e,t){var n={key:"",callback:t},o="",r=(e=void 0===e?"":e).split("/"),i="";if(e){if(2===r.length){if(I.duplicateRemoval(e))return void console.warn("[".concat(u,"][useObserver][on]\n <").concat(e,">已存在,请勿重复添加~"));i=r[0],o=r[1],n.key=o}else 1===r.length&&(o=(new m).genRandomID(),n.key=o,i=r[0]);r=I.Events[i]||[];return t&&r.push(n),I.Events[i]=r,function(){I.off(i,o)}}console.error("[".concat(u,"][useObserver][on]\n<eventName>不能为空"))},I.once=function(t,n){var o=(new m).genRandomID();I.on(t+"/"+o,function(e){n&&n(e),I.off(t,o)})},I.off=function(e,t){var n=e.split("/"),o="";2===n.length?(o=n[0],t=n[1]):1===n.length&&(o=e);e=(I.Events[o]||[]).filter(function(e){return e.key!==t});I.Events[o]=e},I.remove=function(e,t){I.Events[e]=[],t&&t()},I.duplicateRemoval=function(e){var t=e.split("/"),e=I.Events[t[0]];return!!(e&&e.length&&0<e.length)&&e.find(function(e){return e.key===t[1]})},I.Events={},I);function I(){}function z(){}return(D=z).useObserver=function(){return D.observer||(D.observer=T),{on:D.observer.on,off:D.observer.off,once:D.observer.once,emit:D.observer.emit,remove:D.observer.remove}},z.utilsName=u,z.version=e,D=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;0<=c;c--)(r=e[c])&&(a=(i<3?r(a):3<i?r(t,n,a):r(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a}([$,N,U,E,C,b,y,o],z)});
